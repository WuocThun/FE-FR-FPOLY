<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../angular.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body ng-app="myApp" ng-controller="rankCtr">
    <div class="container">
      <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Họ và tên </label>
          <input
            type="text"
            class="form-control"
            id="exampleInputEmail1"
            placeholder="Nhập họ và tên"
            ng-model="Std.name"
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Ngày sinh</label>
          <input
            type="number"
            class="form-control"
            ng-model="Std.date"
            id="exampleInputPassword1"
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Điểm</label>
          <input
            type="number"
            ng-model="Std.point"
            class="form-control mb-3"
            placeholder="Nhập điểm"
          />
        </div>
        <button type="submit" class="btn btn-primary" ng-click="save()">
          Lưu
        </button>
        <button type="submit" class="btn btn-primary" ng-click="update()">
          Sửa
        </button>
        <button type="submit" class="btn btn-primary" ng-click="delete()">
          Xoá
        </button>
        <button type="submit" class="btn btn-primary" ng-click="clear()">
          Huỷ
        </button>
        <button type="submit" class="btn btn-primary" ng-click="cancel()">
          Mới
        </button>
      </form>
      <hr />
      <table class="table">
        <thead>
          <tr>
            <th>Họ và tên</th>
            <th>Ngày sinh</th>
            <th>Điểm</th>
            <th>Xếp loại</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="p in Stds">
            <td>{{p.name}}</td>
            <td>{{p.date}}</td>
            <td>{{p.point}}</td>
            <td ng-model="display">{{p.ranks}}</td>
            <td>
              <a href="#" ng-click="edit($index)">Sửa</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
  <script>
    var app = angular.module("myApp", []);
    app.controller("rankCtr", function ($scope) {
      $scope.$parent.Std = {};
      $scope.index = -1;
      $scope.save = function () {
        $scope.Stds.push(angular.copy($scope.Std));
      };
      $scope.edit = function (index) {
        $scope.index = index;
        $scope.Std = angular.copy($scope.Stds[index]);
      };
      $scope.update = function () {
        $scope.Stds[$scope.index] = angular.copy($scope.Std);
        $scope.clear();
      };
      $scope.clear = function () {
        $scope.Std = {};
      };
      $scope.delete = function () {
        $scope.Stds.splice($scope.index, 1);
        $scope.clear();
      };
      $scope.cancel = function () {
        if ($scope.index == -1) {
          $scope.clear();
        } else {
          $scope.edit($scope.index);
        }
      };
      $scope.$parent.Stds = [
        {
          name: "Thựn",
          date: "01/01/2004",
          point: 8,
        },
      ];
    });
  </script>
</html>
